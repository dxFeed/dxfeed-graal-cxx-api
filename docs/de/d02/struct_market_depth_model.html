<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dxFeed Graal CXX API: MarketDepthModel&lt; O &gt; Struct Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">dxFeed Graal CXX API<span id="projectnumber">&#160;v4.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('de/d02/struct_market_depth_model.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d9/d03/struct_market_depth_model-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MarketDepthModel&lt; O &gt; Struct Template Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Represents a model for market depth, tracking buy and sell orders and notifies listener of changes in the order book.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dc/d01/_market_depth_model_8hpp_source.html">MarketDepthModel.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for MarketDepthModel&lt; O &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="../../de/d02/struct_market_depth_model.png" usemap="#MarketDepthModel_3C_20O_20_3E_map" alt=""/>
  <map id="MarketDepthModel_3C_20O_20_3E_map" name="MarketDepthModel_3C_20O_20_3E_map">
<area href="../../d1/d00/struct_require_make_shared.html" alt="RequireMakeShared&lt; MarketDepthModel&lt; O &gt; &gt;" shape="rect" coords="0,112,292,136"/>
<area href="../../df/d01/struct_shared_entity.html" title="Base abstract &quot;shared entity&quot; class. Has some helpers for dynamic polymorphism." alt="SharedEntity" shape="rect" coords="0,56,292,80"/>
<area href="../../dc/d00/struct_entity.html" title="Base abstract class for all dxFeed C++ API entities." alt="Entity" shape="rect" coords="0,0,292,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d03/struct_market_depth_model_1_1_sorted_order_set.html">SortedOrderSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a set of orders, sorted by a comparator.  <a href="../../d6/d03/struct_market_depth_model_1_1_sorted_order_set.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7b9c86ad8ce5ee43cfe3a59036b30245" id="r_a7b9c86ad8ce5ee43cfe3a59036b30245"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b9c86ad8ce5ee43cfe3a59036b30245">getDepthLimit</a> () const</td></tr>
<tr class="separator:a7b9c86ad8ce5ee43cfe3a59036b30245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08258a85dfc686431521ea26709840bb" id="r_a08258a85dfc686431521ea26709840bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08258a85dfc686431521ea26709840bb">setDepthLimit</a> (std::size_t depthLimit)</td></tr>
<tr class="memdesc:a08258a85dfc686431521ea26709840bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the depth limit of the book.  <br /></td></tr>
<tr class="separator:a08258a85dfc686431521ea26709840bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3392a0e7787ec5521c3df6697e7de2d5" id="r_a3392a0e7787ec5521c3df6697e7de2d5"><td class="memItemLeft" align="right" valign="top">std::int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3392a0e7787ec5521c3df6697e7de2d5">getAggregationPeriod</a> () const</td></tr>
<tr class="separator:a3392a0e7787ec5521c3df6697e7de2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab88b0e027b9c1bca5421815a8eefa1f2" id="r_ab88b0e027b9c1bca5421815a8eefa1f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab88b0e027b9c1bca5421815a8eefa1f2">setAggregationPeriod</a> (std::int64_t aggregationPeriodMillis)</td></tr>
<tr class="memdesc:ab88b0e027b9c1bca5421815a8eefa1f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the aggregation period in milliseconds.  <br /></td></tr>
<tr class="separator:ab88b0e027b9c1bca5421815a8eefa1f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf8ebb15bcca236c5f7a3e37133cf43" id="r_a7bf8ebb15bcca236c5f7a3e37133cf43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7bf8ebb15bcca236c5f7a3e37133cf43">setAggregationPeriod</a> (std::chrono::milliseconds aggregationPeriod)</td></tr>
<tr class="memdesc:a7bf8ebb15bcca236c5f7a3e37133cf43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the aggregation period.  <br /></td></tr>
<tr class="separator:a7bf8ebb15bcca236c5f7a3e37133cf43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3046a233d0b9ce1135ff54938cd54bb" id="r_ac3046a233d0b9ce1135ff54938cd54bb"><td class="memItemLeft" align="right" valign="top"><a id="ac3046a233d0b9ce1135ff54938cd54bb" name="ac3046a233d0b9ce1135ff54938cd54bb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>close</b> () const</td></tr>
<tr class="memdesc:ac3046a233d0b9ce1135ff54938cd54bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes this model and makes it <em>permanently detached</em>. <br /></td></tr>
<tr class="separator:ac3046a233d0b9ce1135ff54938cd54bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_struct_shared_entity"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_struct_shared_entity')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../df/d01/struct_shared_entity.html">SharedEntity</a></td></tr>
<tr class="memitem:ae774e293e95fbf8ebb4d22f714e80272 inherit pub_methods_struct_shared_entity" id="r_ae774e293e95fbf8ebb4d22f714e80272"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae774e293e95fbf8ebb4d22f714e80272 inherit pub_methods_struct_shared_entity"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d01/struct_shared_entity.html#ae774e293e95fbf8ebb4d22f714e80272">is</a> () const noexcept</td></tr>
<tr class="memdesc:ae774e293e95fbf8ebb4d22f714e80272 inherit pub_methods_struct_shared_entity"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that pointer to the current type could be converted to type T* In other words: whether type T belongs to the type hierarchy in which the current type resides.  <br /></td></tr>
<tr class="separator:ae774e293e95fbf8ebb4d22f714e80272 inherit pub_methods_struct_shared_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c4521da539591dee08051ba77a10a8 inherit pub_methods_struct_shared_entity" id="r_a95c4521da539591dee08051ba77a10a8"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a95c4521da539591dee08051ba77a10a8 inherit pub_methods_struct_shared_entity"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d01/struct_shared_entity.html#a95c4521da539591dee08051ba77a10a8">sharedAs</a> () noexcept</td></tr>
<tr class="memdesc:a95c4521da539591dee08051ba77a10a8 inherit pub_methods_struct_shared_entity"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the current object wrapped in a smart pointer to type T.  <br /></td></tr>
<tr class="separator:a95c4521da539591dee08051ba77a10a8 inherit pub_methods_struct_shared_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a348c971deaca898a477262e5bd190d03 inherit pub_methods_struct_shared_entity" id="r_a348c971deaca898a477262e5bd190d03"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a348c971deaca898a477262e5bd190d03 inherit pub_methods_struct_shared_entity"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../df/d01/struct_shared_entity.html#a348c971deaca898a477262e5bd190d03">sharedAs</a> () const noexcept</td></tr>
<tr class="memdesc:a348c971deaca898a477262e5bd190d03 inherit pub_methods_struct_shared_entity"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the current object wrapped in a smart pointer to type T.  <br /></td></tr>
<tr class="separator:a348c971deaca898a477262e5bd190d03 inherit pub_methods_struct_shared_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318336a61c8ecc73fe78e0ee6f0a0027 inherit pub_methods_struct_shared_entity" id="r_a318336a61c8ecc73fe78e0ee6f0a0027"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d01/struct_shared_entity.html#a318336a61c8ecc73fe78e0ee6f0a0027">toString</a> () const</td></tr>
<tr class="memdesc:a318336a61c8ecc73fe78e0ee6f0a0027 inherit pub_methods_struct_shared_entity"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string representation of the current object.  <br /></td></tr>
<tr class="separator:a318336a61c8ecc73fe78e0ee6f0a0027 inherit pub_methods_struct_shared_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_struct_entity"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_struct_entity')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../dc/d00/struct_entity.html">Entity</a></td></tr>
<tr class="memitem:a1a32f1338075f0ccd3ab743058f641de inherit pub_methods_struct_entity" id="r_a1a32f1338075f0ccd3ab743058f641de"><td class="memItemLeft" align="right" valign="top">
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~Entity</b> () noexcept=default</td></tr>
<tr class="memdesc:a1a32f1338075f0ccd3ab743058f641de inherit pub_methods_struct_entity"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default virtual d-tor. <br /></td></tr>
<tr class="separator:a1a32f1338075f0ccd3ab743058f641de inherit pub_methods_struct_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a99879489c3a0147045685e5b1c9356f3" id="r_a99879489c3a0147045685e5b1c9356f3"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; Builder &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99879489c3a0147045685e5b1c9356f3">newBuilder</a> ()</td></tr>
<tr class="memdesc:a99879489c3a0147045685e5b1c9356f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new builder instance for constructing a <a class="el" href="../../de/d02/struct_market_depth_model.html" title="Represents a model for market depth, tracking buy and sell orders and notifies listener of changes in...">MarketDepthModel</a>.  <br /></td></tr>
<tr class="separator:a99879489c3a0147045685e5b1c9356f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_struct_require_make_shared"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_static_methods_struct_require_make_shared')"><img src="../../closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="../../d1/d00/struct_require_make_shared.html">RequireMakeShared&lt; MarketDepthModel&lt; O &gt; &gt;</a></td></tr>
<tr class="memitem:a135f64ff17f75e487fabfd40cc49c2dd inherit pub_static_methods_struct_require_make_shared" id="r_a135f64ff17f75e487fabfd40cc49c2dd"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d00/struct_require_make_shared.html#a135f64ff17f75e487fabfd40cc49c2dd">createShared</a> (Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:a135f64ff17f75e487fabfd40cc49c2dd inherit pub_static_methods_struct_require_make_shared"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates smart pointer to object.  <br /></td></tr>
<tr class="separator:a135f64ff17f75e487fabfd40cc49c2dd inherit pub_static_methods_struct_require_make_shared"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_struct_shared_entity"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_types_struct_shared_entity')"><img src="../../closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="../../df/d01/struct_shared_entity.html">SharedEntity</a></td></tr>
<tr class="memitem:ab7cfbb67329faf3203faea77a9a00e16 inherit pub_types_struct_shared_entity" id="r_ab7cfbb67329faf3203faea77a9a00e16"><td class="memItemLeft" align="right" valign="top">
using&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b> = std::shared_ptr&lt;<a class="el" href="../../df/d01/struct_shared_entity.html">SharedEntity</a>&gt;</td></tr>
<tr class="memdesc:ab7cfbb67329faf3203faea77a9a00e16 inherit pub_types_struct_shared_entity"><td class="mdescLeft">&#160;</td><td class="mdescRight">The alias to a type of shared pointer to the <a class="el" href="../../df/d01/struct_shared_entity.html" title="Base abstract &quot;shared entity&quot; class. Has some helpers for dynamic polymorphism.">SharedEntity</a> object. <br /></td></tr>
<tr class="separator:ab7cfbb67329faf3203faea77a9a00e16 inherit pub_types_struct_shared_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;Derived&lt; <a class="el" href="../../df/d01/class_order_base.html">OrderBase</a> &gt; O&gt;<br />
struct MarketDepthModel&lt; O &gt;</div><p>Represents a model for market depth, tracking buy and sell orders and notifies listener of changes in the order book. </p>
<p>This model can set depth limit and aggregation period. This model notifies the user of received transactions through an installed <a class="el" href="../../de/d03/struct_market_depth_model_listener.html" title="Invoked when the order book is changed.">MarketDepthModelListener</a>.</p>
<p>The depth limit specifies the maximum number of buy or sell orders to maintain in the order book. For example, if the depth limit is set to 10, the model will only keep track of the top 10 buy orders and the top 10 sell orders. This helps in managing the size of the order book.</p>
<p>The aggregation period, specified in milliseconds, determines the frequency at which the model aggregates and notifies changes in the order book to the listeners. For instance, if the aggregation period is set to 1000 milliseconds the model will aggregate changes and notify listeners every second. A value of 0 means that changes are notified immediately.</p>
<h3>Configuration</h3>
<p>This model must be configured using the Builder class, as most configuration settings cannot be changed once the model is built. This model requires configuration MarketDepthModel::Builder::withSymbol() and it must be MarketDepthModel::Builder::withFeed() attached to a <a class="el" href="../../d1/d00/struct_d_x_feed.html" title="Main entry class for dxFeed API (read it first).">DXFeed</a> instance to begin operation.</p>
<p>This model only supports single symbol subscriptions; multiple symbols cannot be configured.</p>
<p>The convenient way to detach model from the feed is to call its <a class="el" href="#ac3046a233d0b9ce1135ff54938cd54bb" title="Closes this model and makes it permanently detached.">MarketDepthModel::close()</a> method. Closed model becomes permanently detached from all feeds, removes all its listeners.</p>
<p>This class is thread-safe and can be used concurrently from multiple threads without external synchronization.</p>
<p>Sample:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>std::literals;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> ep = <a class="code hl_function" href="../../d9/d00/struct_d_x_endpoint.html#a9ee308e31ef33e66ec8b8b83b9cff4de">DXEndpoint::getInstance</a>();</div>
<div class="line"><span class="keyword">auto</span> feed = ep-&gt;getFeed();</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> model =</div>
<div class="line">    <a class="code hl_function" href="#a99879489c3a0147045685e5b1c9356f3">MarketDepthModel&lt;Order&gt;::newBuilder</a>()</div>
<div class="line">        -&gt;withFeed(feed)</div>
<div class="line">        -&gt;withSources({<a class="code hl_variable" href="../../d2/d02/class_order_source.html#a082ff436a692c22800fb4cb54e9e7d58">OrderSource::NTV</a>})</div>
<div class="line">        -&gt;withSymbol(<span class="stringliteral">&quot;AAPL&quot;</span>)</div>
<div class="line">        -&gt;withDepthLimit(10)</div>
<div class="line">        -&gt;withAggregationPeriod(5s)</div>
<div class="line">        -&gt;withListener([](<span class="keyword">const</span> std::vector&lt;std::shared_ptr&lt;Order&gt;&gt; &amp;buy,</div>
<div class="line">                          <span class="keyword">const</span> std::vector&lt;std::shared_ptr&lt;Order&gt;&gt; &amp;sell) {</div>
<div class="line">            <span class="keywordflow">if</span> (buy.empty() &amp;&amp; sell.empty()) {</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            std::cout &lt;&lt; std::format(<span class="stringliteral">&quot;{:=^66}\n&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">            std::cout &lt;&lt; std::format(<span class="stringliteral">&quot;{:^31} || {:^31}\n&quot;</span>, <span class="stringliteral">&quot;ASK&quot;</span>, <span class="stringliteral">&quot;BID&quot;</span>);</div>
<div class="line">            std::cout &lt;&lt; std::format(<span class="stringliteral">&quot;{0:^15}|{1:^15} || {0:^15}|{1:^15}\n&quot;</span>, <span class="stringliteral">&quot;Price&quot;</span>, <span class="stringliteral">&quot;Size&quot;</span>);</div>
<div class="line">            std::cout &lt;&lt; std::format(<span class="stringliteral">&quot;{:-^66}\n&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span> buyIt = buy.begin(), sellIt = sell.begin(); buyIt != buy.end() &amp;&amp; sellIt != sell.end();) {</div>
<div class="line">                std::string row{};</div>
<div class="line">                <span class="keywordflow">if</span> (buyIt != buy.end()) {</div>
<div class="line">                    row += std::format(<span class="stringliteral">&quot;{:&gt;14.4f} | {:&lt;14.2f}&quot;</span>, (*buyIt)-&gt;getPrice(), (*buyIt)-&gt;getSize());</div>
<div class="line"> </div>
<div class="line">                    ++buyIt;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    row += std::format(<span class="stringliteral">&quot;{:&gt;14} | {:&lt;14}&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                row += <span class="stringliteral">&quot; || &quot;</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (sellIt != sell.end()) {</div>
<div class="line">                    row += std::format(<span class="stringliteral">&quot;{:&gt;14.4f} | {:&lt;14.2f}&quot;</span>, (*sellIt)-&gt;getPrice(), (*sellIt)-&gt;getSize());</div>
<div class="line"> </div>
<div class="line">                    ++sellIt;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    row += std::format(<span class="stringliteral">&quot;{:&gt;14} | {:&lt;14}&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                std::cout &lt;&lt; row &lt;&lt; std::endl;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            std::cout &lt;&lt; std::format(<span class="stringliteral">&quot;{:=^66}\n&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        })</div>
<div class="line">        -&gt;build();</div>
<div class="line"> </div>
<div class="line">ep-&gt;connect(<span class="stringliteral">&quot;demo.dxfeed.com:7300&quot;</span>);</div>
<div class="ttc" id="aclass_order_source_html_a082ff436a692c22800fb4cb54e9e7d58"><div class="ttname"><a href="../../d2/d02/class_order_source.html#a082ff436a692c22800fb4cb54e9e7d58">OrderSource::NTV</a></div><div class="ttdeci">static const OrderSource NTV</div><div class="ttdoc">NASDAQ Total View.</div><div class="ttdef"><b>Definition</b> OrderSource.hpp:138</div></div>
<div class="ttc" id="astruct_d_x_endpoint_html_a9ee308e31ef33e66ec8b8b83b9cff4de"><div class="ttname"><a href="../../d9/d00/struct_d_x_endpoint.html#a9ee308e31ef33e66ec8b8b83b9cff4de">DXEndpoint::getInstance</a></div><div class="ttdeci">static std::shared_ptr&lt; DXEndpoint &gt; getInstance()</div><div class="ttdoc">Returns a default application-wide singleton instance of DXEndpoint with a FEED role.</div><div class="ttdef"><b>Definition</b> DXEndpoint.cpp:426</div></div>
<div class="ttc" id="astruct_market_depth_model_html_a99879489c3a0147045685e5b1c9356f3"><div class="ttname"><a href="#a99879489c3a0147045685e5b1c9356f3">MarketDepthModel::newBuilder</a></div><div class="ttdeci">static std::shared_ptr&lt; Builder &gt; newBuilder()</div><div class="ttdoc">Creates a new builder instance for constructing a MarketDepthModel.</div><div class="ttdef"><b>Definition</b> MarketDepthModel.hpp:720</div></div>
</div><!-- fragment --><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">O</td><td>The type of order derived from <a class="el" href="../../df/d01/class_order_base.html" title="Base class for common fields of Order, AnalyticOrder and SpreadOrder events.">OrderBase</a>. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a3392a0e7787ec5521c3df6697e7de2d5" name="a3392a0e7787ec5521c3df6697e7de2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3392a0e7787ec5521c3df6697e7de2d5">&#9670;&#160;</a></span>getAggregationPeriod()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;Derived&lt; <a class="el" href="../../df/d01/class_order_base.html">OrderBase</a> &gt; O&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::int64_t <a class="el" href="../../de/d02/struct_market_depth_model.html">MarketDepthModel</a>&lt; O &gt;::getAggregationPeriod </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The aggregation period of the book. </dd></dl>

</div>
</div>
<a id="a7b9c86ad8ce5ee43cfe3a59036b30245" name="a7b9c86ad8ce5ee43cfe3a59036b30245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b9c86ad8ce5ee43cfe3a59036b30245">&#9670;&#160;</a></span>getDepthLimit()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;Derived&lt; <a class="el" href="../../df/d01/class_order_base.html">OrderBase</a> &gt; O&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="../../de/d02/struct_market_depth_model.html">MarketDepthModel</a>&lt; O &gt;::getDepthLimit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The depth limit of the book. </dd></dl>

</div>
</div>
<a id="a99879489c3a0147045685e5b1c9356f3" name="a99879489c3a0147045685e5b1c9356f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99879489c3a0147045685e5b1c9356f3">&#9670;&#160;</a></span>newBuilder()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;Derived&lt; <a class="el" href="../../df/d01/class_order_base.html">OrderBase</a> &gt; O&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt; Builder &gt; <a class="el" href="../../de/d02/struct_market_depth_model.html">MarketDepthModel</a>&lt; O &gt;::newBuilder </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new builder instance for constructing a <a class="el" href="../../de/d02/struct_market_depth_model.html" title="Represents a model for market depth, tracking buy and sell orders and notifies listener of changes in...">MarketDepthModel</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>A new instance of the builder. </dd></dl>

</div>
</div>
<a id="a7bf8ebb15bcca236c5f7a3e37133cf43" name="a7bf8ebb15bcca236c5f7a3e37133cf43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bf8ebb15bcca236c5f7a3e37133cf43">&#9670;&#160;</a></span>setAggregationPeriod() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;Derived&lt; <a class="el" href="../../df/d01/class_order_base.html">OrderBase</a> &gt; O&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../de/d02/struct_market_depth_model.html">MarketDepthModel</a>&lt; O &gt;::setAggregationPeriod </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds</td>          <td class="paramname"><span class="paramname"><em>aggregationPeriod</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the aggregation period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aggregationPeriod</td><td>The new aggregation period value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab88b0e027b9c1bca5421815a8eefa1f2" name="ab88b0e027b9c1bca5421815a8eefa1f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab88b0e027b9c1bca5421815a8eefa1f2">&#9670;&#160;</a></span>setAggregationPeriod() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;Derived&lt; <a class="el" href="../../df/d01/class_order_base.html">OrderBase</a> &gt; O&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../de/d02/struct_market_depth_model.html">MarketDepthModel</a>&lt; O &gt;::setAggregationPeriod </td>
          <td>(</td>
          <td class="paramtype">std::int64_t</td>          <td class="paramname"><span class="paramname"><em>aggregationPeriodMillis</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the aggregation period in milliseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aggregationPeriodMillis</td><td>The new aggregation period value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a08258a85dfc686431521ea26709840bb" name="a08258a85dfc686431521ea26709840bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08258a85dfc686431521ea26709840bb">&#9670;&#160;</a></span>setDepthLimit()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;Derived&lt; <a class="el" href="../../df/d01/class_order_base.html">OrderBase</a> &gt; O&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../de/d02/struct_market_depth_model.html">MarketDepthModel</a>&lt; O &gt;::setDepthLimit </td>
          <td>(</td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>depthLimit</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the depth limit of the book. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">depthLimit</td><td>The new depth limit value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d02/struct_market_depth_model.html">MarketDepthModel</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
